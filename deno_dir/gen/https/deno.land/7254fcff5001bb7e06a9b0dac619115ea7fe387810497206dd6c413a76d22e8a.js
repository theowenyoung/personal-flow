function _cache() {
    const val = window.___$GLOBAL_MODULE_CACHE;
    if (typeof val !== "object") {
        window.___$GLOBAL_MODULE_CACHE = {};
        return {};
    }
    else
        return val;
}
export class ModuleCache {
    name;
    get cache() {
        const modCache = _cache();
        if (!modCache[this.name]) {
            modCache[this.name] = {};
            return {};
        }
        else
            return modCache[this.name];
    }
    constructor(name) {
        this.name = name;
        if (_cache()[name] !== undefined)
            throw new Error(`Module Cache already registered for ${name}`);
    }
    set(key, val) {
        this.cache[key] = val;
        return this;
    }
    get(key) {
        return this.cache[key];
    }
    delete(key) {
        return delete this.cache[key];
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUlBLFNBQVMsTUFBTTtJQUNiLE1BQU0sR0FBRyxHQUFJLE1BQWMsQ0FBQyx1QkFBdUIsQ0FBQztJQUNwRCxJQUFJLE9BQU8sR0FBRyxLQUFLLFFBQVEsRUFBRTtRQUMxQixNQUFjLENBQUMsdUJBQXVCLEdBQUcsRUFBRSxDQUFDO1FBQzdDLE9BQU8sRUFBRSxDQUFDO0tBQ1g7O1FBQU0sT0FBTyxHQUFHLENBQUM7QUFDcEIsQ0FBQztBQUVELE1BQU0sT0FBTyxXQUFXO0lBQ3RCLElBQUksQ0FBUztJQUViLElBQUksS0FBSztRQUNQLE1BQU0sUUFBUSxHQUFHLE1BQU0sRUFBRSxDQUFDO1FBQzFCLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFO1lBQ3hCLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDO1lBQ3pCLE9BQU8sRUFBRSxDQUFDO1NBQ1g7O1lBQU0sT0FBTyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3BDLENBQUM7SUFFRCxZQUFZLElBQVk7UUFDdEIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDakIsSUFBSSxNQUFNLEVBQUUsQ0FBQyxJQUFJLENBQUMsS0FBSyxTQUFTO1lBQzlCLE1BQU0sSUFBSSxLQUFLLENBQUMsdUNBQXVDLElBQUksRUFBRSxDQUFDLENBQUM7SUFDbkUsQ0FBQztJQUVELEdBQUcsQ0FBQyxHQUFXLEVBQUUsR0FBUTtRQUN2QixJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQztRQUN0QixPQUFPLElBQUksQ0FBQztJQUNkLENBQUM7SUFFRCxHQUFHLENBQVUsR0FBVztRQUN0QixPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDekIsQ0FBQztJQUVELE1BQU0sQ0FBQyxHQUFXO1FBQ2hCLE9BQU8sT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2hDLENBQUM7Q0FDRiIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBpbnRlcmZhY2UgQW55T2JqZWN0IHtcclxuICBbbmFtZTogc3RyaW5nXTogYW55O1xyXG59XHJcblxyXG5mdW5jdGlvbiBfY2FjaGUoKTogeyBbbmFtZTogc3RyaW5nXTogQW55T2JqZWN0IH0ge1xyXG4gIGNvbnN0IHZhbCA9ICh3aW5kb3cgYXMgYW55KS5fX18kR0xPQkFMX01PRFVMRV9DQUNIRTtcclxuICBpZiAodHlwZW9mIHZhbCAhPT0gXCJvYmplY3RcIikge1xyXG4gICAgKHdpbmRvdyBhcyBhbnkpLl9fXyRHTE9CQUxfTU9EVUxFX0NBQ0hFID0ge307XHJcbiAgICByZXR1cm4ge307XHJcbiAgfSBlbHNlIHJldHVybiB2YWw7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBNb2R1bGVDYWNoZSB7XHJcbiAgbmFtZTogc3RyaW5nO1xyXG5cclxuICBnZXQgY2FjaGUoKTogQW55T2JqZWN0IHtcclxuICAgIGNvbnN0IG1vZENhY2hlID0gX2NhY2hlKCk7XHJcbiAgICBpZiAoIW1vZENhY2hlW3RoaXMubmFtZV0pIHtcclxuICAgICAgbW9kQ2FjaGVbdGhpcy5uYW1lXSA9IHt9O1xyXG4gICAgICByZXR1cm4ge307XHJcbiAgICB9IGVsc2UgcmV0dXJuIG1vZENhY2hlW3RoaXMubmFtZV07XHJcbiAgfVxyXG5cclxuICBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcpIHtcclxuICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICBpZiAoX2NhY2hlKClbbmFtZV0gIT09IHVuZGVmaW5lZClcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBNb2R1bGUgQ2FjaGUgYWxyZWFkeSByZWdpc3RlcmVkIGZvciAke25hbWV9YCk7XHJcbiAgfVxyXG5cclxuICBzZXQoa2V5OiBzdHJpbmcsIHZhbDogYW55KSB7XHJcbiAgICB0aGlzLmNhY2hlW2tleV0gPSB2YWw7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIGdldDxUID0gYW55PihrZXk6IHN0cmluZyk6IFQgfCB1bmRlZmluZWQge1xyXG4gICAgcmV0dXJuIHRoaXMuY2FjaGVba2V5XTtcclxuICB9XHJcblxyXG4gIGRlbGV0ZShrZXk6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIGRlbGV0ZSB0aGlzLmNhY2hlW2tleV07XHJcbiAgfVxyXG59XHJcbiJdfQ==